<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Audio Player</title>
</head>
<body>
<audio loop
       autoplay
       playsinline
       src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
       onerror="app.restartAudio()"
       onwaiting="app.showBufferingMessage()"
       onplaying="app.hideBufferingMessage()">
  Your browser does not support the audio element.
</audio>
<div id="buffering-message" style="display: none;">Buffering...</div>
<div id="buffered-amount"></div>
<script type="module">
  import { main } from './index.mjs';

  const audioElement = document.querySelector('audio');
  const bufferingMessageElement = document.querySelector('#buffering-message');
  const bufferedAmountElement = document.querySelector('#buffered-amount');

  window.app = main({
    audioElement,
    bufferingMessageElement,
    bufferedAmountElement
  });

  window.addEventListener('load', () => {
    audioElement.play();
  });
</script>
</body>
</html>
